{"version":3,"file":"admin.js","sources":["../src/admin/components/DynamicSlideSettingsComponent.tsx","../src/common/config/defaults.ts","../src/admin/SettingsGenerator.tsx","../src/admin/index.tsx"],"sourcesContent":["import app from 'flarum/admin/app';\r\nimport Component from 'flarum/common/Component';\r\nimport Button from 'flarum/common/components/Button';\r\n\r\ninterface SlideData {\r\n  id: number;\r\n  link: string;\r\n  image: string;\r\n}\r\n\r\ninterface DynamicSlideSettingsComponentAttrs {\r\n  extensionId: string;\r\n  maxSlides?: number;\r\n}\r\n\r\n/**\r\n * Dynamic component for managing advertisement slide settings with add/delete functionality\r\n */\r\nexport default class DynamicSlideSettingsComponent extends Component<DynamicSlideSettingsComponentAttrs> {\r\n  private slides: SlideData[] = [];\r\n  private loading = false;\r\n  private nextId = 1;\r\n\r\n  oninit(vnode: any) {\r\n    super.oninit(vnode);\r\n    this.loadExistingSlides();\r\n  }\r\n\r\n  /**\r\n   * Load existing slides from settings\r\n   */\r\n  private loadExistingSlides() {\r\n    const { extensionId, maxSlides = 30 } = this.attrs;\r\n    const slides: SlideData[] = [];\r\n    \r\n    // Load existing slides from settings\r\n    for (let i = 1; i <= maxSlides; i++) {\r\n      const linkKey = `${extensionId}.Link${i}`;\r\n      const imageKey = `${extensionId}.Image${i}`;\r\n      const link = app.data.settings[linkKey] || '';\r\n      const image = app.data.settings[imageKey] || '';\r\n      \r\n      // Only include slides that have at least one field filled\r\n      if (link || image) {\r\n        slides.push({\r\n          id: i,\r\n          link,\r\n          image\r\n        });\r\n        this.nextId = Math.max(this.nextId, i + 1);\r\n      }\r\n    }\r\n    \r\n    this.slides = slides;\r\n    \r\n    // If no slides exist, add one empty slide to start with\r\n    if (slides.length === 0) {\r\n      this.addSlide();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add a new slide\r\n   */\r\n  private addSlide() {\r\n    const newSlide: SlideData = {\r\n      id: this.nextId++,\r\n      link: '',\r\n      image: ''\r\n    };\r\n    \r\n    this.slides.push(newSlide);\r\n    m.redraw();\r\n  }\r\n\r\n  /**\r\n   * Remove a slide\r\n   */\r\n  private removeSlide(slideId: number) {\r\n    const { extensionId } = this.attrs;\r\n    const slideIndex = this.slides.findIndex(slide => slide.id === slideId);\r\n    \r\n    if (slideIndex === -1) return;\r\n    \r\n    const slide = this.slides[slideIndex];\r\n    \r\n    // Remove from backend\r\n    this.saveSetting(`${extensionId}.Link${slide.id}`, '');\r\n    this.saveSetting(`${extensionId}.Image${slide.id}`, '');\r\n    \r\n    // Remove from local state\r\n    this.slides.splice(slideIndex, 1);\r\n    \r\n    // Ensure at least one slide exists\r\n    if (this.slides.length === 0) {\r\n      this.addSlide();\r\n    }\r\n    \r\n    m.redraw();\r\n  }\r\n\r\n  /**\r\n   * Update slide data\r\n   */\r\n  private updateSlide(slideId: number, field: 'link' | 'image', value: string) {\r\n    const { extensionId } = this.attrs;\r\n    const slide = this.slides.find(s => s.id === slideId);\r\n    \r\n    if (!slide) return;\r\n    \r\n    slide[field] = value;\r\n    \r\n    // Save to backend\r\n    const settingKey = field === 'link' \r\n      ? `${extensionId}.Link${slide.id}` \r\n      : `${extensionId}.Image${slide.id}`;\r\n    \r\n    this.saveSetting(settingKey, value);\r\n  }\r\n\r\n  /**\r\n   * Save setting to backend with debouncing\r\n   */\r\n  private saveSetting(key: string, value: string) {\r\n    // Clear existing timeout for this key\r\n    const timeoutKey = `saveTimeout_${key}`;\r\n    clearTimeout((this as any)[timeoutKey]);\r\n    \r\n    // Set new timeout\r\n    (this as any)[timeoutKey] = setTimeout(() => {\r\n      app.data.settings[key] = value;\r\n      \r\n      app.request({\r\n        method: 'POST',\r\n        url: app.forum.attribute('apiUrl') + '/settings',\r\n        body: {\r\n          [key]: value\r\n        }\r\n      }).catch(() => {\r\n        // Handle save error silently for now\r\n      });\r\n    }, 500);\r\n  }\r\n\r\n  view() {\r\n    return m('div.Form-group', [\r\n      m('label.FormLabel', \r\n        app.translator.trans('wusong8899-client1.admin.SlideSettings')\r\n      ),\r\n      m('div.helpText', \r\n        app.translator.trans('wusong8899-client1.admin.SlideSettingsHelp')\r\n      ),\r\n\r\n      m('div.DynamicSlideSettings', [\r\n        // Slides list\r\n        this.slides.map((slide, index) => this.renderSlide(slide, index)),\r\n        \r\n        // Add button\r\n        m('div.DynamicSlideSettings-addButton', [\r\n          m(Button, {\r\n            className: 'Button Button--primary',\r\n            icon: 'fas fa-plus',\r\n            onclick: () => this.addSlide()\r\n          }, app.translator.trans('wusong8899-client1.admin.AddSlide'))\r\n        ])\r\n      ])\r\n    ]);\r\n  }\r\n\r\n  /**\r\n   * Render a single slide\r\n   */\r\n  private renderSlide(slide: SlideData, index: number) {\r\n    return m('div.DynamicSlideSettings-slide', {\r\n      key: slide.id\r\n    }, [\r\n      m('div.DynamicSlideSettings-slideHeader', [\r\n        m('h4', app.translator.trans('wusong8899-client1.admin.SlideNumber', { number: index + 1 })),\r\n        m(Button, {\r\n          className: 'Button Button--danger',\r\n          icon: 'fas fa-trash',\r\n          onclick: () => this.removeSlide(slide.id),\r\n          disabled: this.slides.length === 1\r\n        }, app.translator.trans('wusong8899-client1.admin.DeleteSlide'))\r\n      ]),\r\n      \r\n      m('div.DynamicSlideSettings-slideFields', [\r\n        // Link URL field\r\n        m('div.Form-group', [\r\n          m('label.FormLabel', \r\n            app.translator.trans('wusong8899-client1.admin.SlideLink')\r\n          ),\r\n          m('input.FormControl', {\r\n            type: 'url',\r\n            placeholder: 'https://example.com',\r\n            value: slide.link,\r\n            oninput: (e: Event) => {\r\n              const target = e.target as HTMLInputElement;\r\n              this.updateSlide(slide.id, 'link', target.value);\r\n            }\r\n          })\r\n        ]),\r\n        \r\n        // Image URL field\r\n        m('div.Form-group', [\r\n          m('label.FormLabel', \r\n            app.translator.trans('wusong8899-client1.admin.SlideImage')\r\n          ),\r\n          m('input.FormControl', {\r\n            type: 'url',\r\n            placeholder: 'https://example.com/image.jpg',\r\n            value: slide.image,\r\n            oninput: (e: Event) => {\r\n              const target = e.target as HTMLInputElement;\r\n              this.updateSlide(slide.id, 'image', target.value);\r\n            }\r\n          })\r\n        ])\r\n      ])\r\n    ]);\r\n  }\r\n}\r\n","import type { RootConfig } from './types';\r\n\r\nexport const defaultConfig: RootConfig = {\r\n  env: (process.env.NODE_ENV as any) || 'production',\r\n  app: {\r\n    extensionId: 'wusong8899-client1-header-adv',\r\n    translationPrefix: 'wusong8899-client1',\r\n  },\r\n  slider: {\r\n    maxSlides: 30,\r\n    defaultTransitionTime: 5000,\r\n    checkTime: 10,\r\n    dataCheckInterval: 100,\r\n    dom: {\r\n      containerId: 'swiperAdContainer',\r\n      swiperClass: 'adSwiper',\r\n    },\r\n    swiper: {\r\n      spaceBetween: 30,\r\n      effect: 'coverflow',\r\n      centeredSlides: true,\r\n      slidesPerView: 2,\r\n      coverflowEffect: {\r\n        rotate: 0,\r\n        depth: 100,\r\n        modifier: 1,\r\n        slideShadows: true,\r\n        stretch: 0,\r\n      },\r\n      pagination: {\r\n        el: '.swiper-pagination',\r\n        type: 'bullets',\r\n      },\r\n      navigation: {\r\n        nextEl: '.swiper-button-next',\r\n        prevEl: '.swiper-button-prev',\r\n      },\r\n    },\r\n  },\r\n  ui: {\r\n    headerIconId: 'wusong8899Client1HeaderIcon',\r\n    headerIconUrl: 'https://ex.cc/assets/files/date/test.png',\r\n  },\r\n  data: {\r\n    apiResources: {\r\n      // Links queue functionality moved to client1-links-queue extension\r\n    },\r\n  },\r\n};\r\n\r\n","import app from 'flarum/admin/app';\r\nimport DynamicSlideSettingsComponent from './components/DynamicSlideSettingsComponent';\r\nimport { defaultConfig } from '../common/config';\r\n\r\n/**\r\n * Type definitions for settings registration\r\n */\r\ninterface SettingConfig {\r\n  setting: string;\r\n  type: 'number' | 'url' | 'text' | 'boolean';\r\n  label: string;\r\n  help?: string;\r\n}\r\n\r\ninterface SocialPlatform {\r\n  name: string;\r\n  urlKey: string;\r\n  iconKey: string;\r\n}\r\n\r\n/**\r\n * Settings generator utility for admin interface\r\n * Provides a fluent API for registering extension settings\r\n */\r\nexport class SettingsGenerator {\r\n  private readonly extensionId: string;\r\n  private readonly extensionData: any;\r\n\r\n  constructor(extensionId: string) {\r\n    this.extensionId = extensionId;\r\n    this.extensionData = app.extensionData.for(extensionId);\r\n  }\r\n\r\n  /**\r\n   * Register transition time setting\r\n   */\r\n  registerTransitionTimeSetting(): this {\r\n    this.extensionData.registerSetting({\r\n      setting: `${this.extensionId}.TransitionTime`,\r\n      type: 'number',\r\n      label: app.translator.trans('wusong8899-client1.admin.TransitionTime'),\r\n    } as SettingConfig);\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Register header icon URL setting\r\n   */\r\n  registerHeaderIconUrlSetting(): this {\r\n    this.extensionData.registerSetting({\r\n      setting: `${this.extensionId}.HeaderIconUrl`,\r\n      type: 'url',\r\n      label: app.translator.trans('wusong8899-client1.admin.HeaderIconUrl'),\r\n      help: app.translator.trans('wusong8899-client1.admin.HeaderIconUrlHelp'),\r\n    } as SettingConfig);\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Register max slides setting\r\n   */\r\n  registerMaxSlidesSetting(): this {\r\n    this.extensionData.registerSetting({\r\n      setting: `${this.extensionId}.MaxSlides`,\r\n      type: 'number',\r\n      label: app.translator.trans('wusong8899-client1.admin.MaxSlides'),\r\n      help: app.translator.trans('wusong8899-client1.admin.MaxSlidesHelp'),\r\n    } as SettingConfig);\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Register social media settings for all supported platforms\r\n   */\r\n  registerSocialMediaSettings(): this {\r\n    const socialPlatforms: SocialPlatform[] = [\r\n      { name: 'Kick', urlKey: 'SocialKickUrl', iconKey: 'SocialKickIcon' },\r\n      { name: 'Facebook', urlKey: 'SocialFacebookUrl', iconKey: 'SocialFacebookIcon' },\r\n      { name: 'Twitter', urlKey: 'SocialTwitterUrl', iconKey: 'SocialTwitterIcon' },\r\n      { name: 'YouTube', urlKey: 'SocialYouTubeUrl', iconKey: 'SocialYouTubeIcon' },\r\n      { name: 'Instagram', urlKey: 'SocialInstagramUrl', iconKey: 'SocialInstagramIcon' },\r\n    ];\r\n\r\n    socialPlatforms.forEach((platform) => {\r\n      // URL setting\r\n      this.extensionData.registerSetting({\r\n        setting: `${this.extensionId}.${platform.urlKey}`,\r\n        type: 'url',\r\n        label: app.translator.trans(`wusong8899-client1.admin.${platform.urlKey}`),\r\n        help: app.translator.trans(`wusong8899-client1.admin.${platform.urlKey}Help`),\r\n      } as SettingConfig);\r\n\r\n      // Icon setting\r\n      this.extensionData.registerSetting({\r\n        setting: `${this.extensionId}.${platform.iconKey}`,\r\n        type: 'url',\r\n        label: app.translator.trans(`wusong8899-client1.admin.${platform.iconKey}`),\r\n        help: app.translator.trans('wusong8899-client1.admin.SocialIconHelp'),\r\n      } as SettingConfig);\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Register dynamic slide settings component\r\n   */\r\n  registerSlideSettings(maxSlides: number = defaultConfig.slider.maxSlides): this {\r\n    this.extensionData.registerSetting(() => {\r\n      return m(DynamicSlideSettingsComponent, {\r\n        extensionId: this.extensionId,\r\n        maxSlides: maxSlides\r\n      });\r\n    });\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Register all settings for the extension\r\n   */\r\n  registerAllSettings(maxSlides: number = defaultConfig.slider.maxSlides): this {\r\n    return this\r\n      .registerTransitionTimeSetting()\r\n      .registerHeaderIconUrlSetting()\r\n      .registerMaxSlidesSetting()\r\n      .registerSocialMediaSettings()\r\n      .registerSlideSettings(maxSlides);\r\n  }\r\n}\r\n\r\n/**\r\n * Configuration constants\r\n * @deprecated Use values from '../../common/config' instead\r\n */\r\nexport const EXTENSION_CONFIG = {\r\n  EXTENSION_ID: 'wusong8899-client1-header-adv',\r\n  MAX_SLIDES: defaultConfig.slider.maxSlides,\r\n  DEFAULT_TRANSITION_TIME: defaultConfig.slider.defaultTransitionTime,\r\n} as const;\r\n\r\n/**\r\n * Initialize admin settings\r\n */\r\nexport function initializeAdminSettings(\r\n  extensionId: string = EXTENSION_CONFIG.EXTENSION_ID, \r\n  maxSlides?: number\r\n): void {\r\n  // Get maxSlides from backend settings, fallback to config default\r\n  const backendMaxSlides = app.data.settings[`${extensionId}.MaxSlides`];\r\n  const finalMaxSlides = maxSlides ?? (backendMaxSlides ? parseInt(backendMaxSlides) : EXTENSION_CONFIG.MAX_SLIDES);\r\n  \r\n  const generator = new SettingsGenerator(extensionId);\r\n  generator.registerAllSettings(finalMaxSlides);\r\n}\r\n","import app from 'flarum/admin/app';\r\nimport { initializeAdminSettings } from './SettingsGenerator';\r\n\r\n/**\r\n * Initialize the client1-header-adv admin extension\r\n */\r\napp.initializers.add('wusong8899-client1-header-adv', (): void => {\r\n    initializeAdminSettings();\r\n});\r\n"],"names":["DynamicSlideSettingsComponent","Component","vnode","extensionId","maxSlides","slides","i","linkKey","imageKey","link","app","image","newSlide","slideId","slideIndex","slide","field","value","s","settingKey","key","timeoutKey","index","Button","e","target","defaultConfig","SettingsGenerator","platform","EXTENSION_CONFIG","initializeAdminSettings","backendMaxSlides","finalMaxSlides"],"mappings":"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"}